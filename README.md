# Веб-сервис для вычисления арифметических выражений

Этот проект представляет собой веб-сервис, который позволяет вычислять арифметические выражения. Пользователь отправляет выражение в формате JSON, а сервис возвращает результат вычисления или сообщение об ошибке.

## Основные возможности

- Вычисление арифметических выражений, включая сложение, вычитание, умножение и деление.
- Поддержка унарного минуса (например, `-5`).
- Валидация входных данных.
- Обработка ошибок с возвратом соответствующих HTTP-статусов:
  - `200 OK` — успешное вычисление.
  - `400 Bad Request` — некорректный формат запроса.
  - `422 Unprocessable Entity` — некорректное выражение.
  - `500 Internal Server Error` — внутренняя ошибка сервера.

## Как использовать

### Запуск сервиса

1. Убедитесь, что у вас установлен Go (версия 1.20 или выше).
2. Клонируйте репозиторий и запустите сервис:

   ```bash
   git clone https://github.com/bsolomatin/yd1.git
   cd yd1
   go run cmd/app/main.go
3. Сервис будет доступен по http://localhost:8080

## Отправка запросов
Для вычисления выражения отправьте POST-запрос на эндпоинт /api/v1/calculate с телом в формате JSON:
```json
{
    "expression": "2 + 3 * 4"
}

Пример запроса curl
```bash
curl -X POST http://localhost:8080/api/v1/calculate \
-H "Content-Type: application/json" \
-d '{"expression": "2 + 3 * 4"}'

Успешный ответ
```json
{
  "result" : 14
}

Неуспешный ответ
```json
{
  "error": "Expression is not valid"
}
{
  "error": "Invalid request format"
}

## Тесты
Для запуска тестов выполните команду
```bash
go test -v ./...

Проверка покрытия (85.7% для основного хендлера на текущий момент)
```bash
go test -coverpkg=./... -coverprofile=coverage.out ./...
go tool cover -html=coverage 
